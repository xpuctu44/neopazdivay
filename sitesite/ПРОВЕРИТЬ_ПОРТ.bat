@echo off
chcp 65001 >nul
title –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 8000

echo.
echo ========================================
echo    –ü–†–û–í–ï–†–ö–ê –ü–û–†–¢–ê 8000
echo ========================================
echo.

echo üîç –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Ä—Ç–µ 8000:
echo.
netstat -ano | findstr :8000

echo.
echo üìã –ü—Ä–æ—Ü–µ—Å—Å—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –ø–æ—Ä—Ç 8000:
echo.
for /f "tokens=5" %%a in ('netstat -ano ^| findstr :8000') do (
    echo –ü—Ä–æ—Ü–µ—Å—Å ID: %%a
    tasklist /fi "pid eq %%a" /fo table
    echo.
)

echo.
echo üåê –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞...
echo.
curl -s http://localhost:8000/health 2>nul
if errorlevel 1 (
    echo ‚ùå –°–∞–π—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ http://localhost:8000
    echo –í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–∏—Å –∏–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞
) else (
    echo ‚úÖ –°–∞–π—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ http://localhost:8000
    echo –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
    echo    http://localhost:8000
)

echo.
echo ========================================
echo    –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò
echo ========================================
echo.
echo 1. –ï—Å–ª–∏ —Å–∞–π—Ç –æ—Ç–≤–µ—á–∞–µ—Ç - –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
echo    http://localhost:8000
echo.
echo 2. –ï—Å–ª–∏ —Å–∞–π—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:
echo    –û–°–¢–ê–ù–û–í–ò–¢–¨_–°–ï–†–í–ï–†.bat
echo.
echo 3. –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É:
echo    –ó–ê–ü–£–°–ö_–ü–û–†–¢_8001.bat
echo.
pause


